<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        /* *{
            background-image: linear-gradient(to left,rgb(210, 40, 140));
        } */
        .container {
            margin: 0px auto;
            /* width: 50%; */
            background-color: rgb(62, 202, 155);
            margin: 0 auto;

        }

        .div-f {
            display: flex;
        }

        #a,
        #b,
        #c,
        #d,
        #e,
        #f,
        #g,
        #h,
        #i {
            height: 150px;
            width: 180px;
            text-align: center;
            /* background: rgb(175, 153, 153); */
            /* border: 0.5px solid rgb(229, 211, 211); */
        }

        .game-headder {
            height: 100px;
            font-family: 'Times New Roman', Times, serif;
        }

        .gm-div {
            margin-left: 100px;
        }

        .main-div {
            display: flex;
        }
    </style>
</head>

<body>
    <div style="background-color: burlywood;">
        <div class="bg-primary game-headder text-center">
            <h1>Puzzle Game </h1>
            <p class="text-capitalize">click on start button to start game</p>
        </div>
        <div class="container-fluid main-div ">
            <div class="bg-light">
                <img src="./splite-img/image mahakal.jpg" height="400px">
                <h2 class="text-capitalize text-primary mt-2">original Image: try to make same</h2>
            </div>
            <div class="gm-div">
                <div class="div-f">
                    <div id="a">
                        <img src="./splite-img/1.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="0" value="0">
                    </div>
                    <div id="b">
                        <img src="./splite-img/2.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="1">
                    </div>
                    <div id="c">
                        <img src="./splite-img/3.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="2">
                    </div>
                </div>
                <div class="div-f">
                    <div id="d">
                        <img src="./splite-img/4.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="3">
                    </div>
                    <div id="e">
                        <img src="./splite-img/5.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="4">
                    </div>
                    <div id="f">
                        <img src="./splite-img/6.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="5">
                    </div>
                </div>
                <div class="div-f">
                    <div id="g">
                        <img src="./splite-img/7.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="6">
                    </div>
                    <div id="h">
                        <img src="./splite-img/8.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="7">
                    </div>
                    <div id="i">
                        <img src="./splite-img/9.jpg" height="150px" width="180px" alt="" class="img"
                            onclick="swipe(this)" data-bid="8">
                    </div>
                </div>
                <button onclick="start()"
                    class="btn btn-outline-success mt-4 w-100 btn-lg text-capitalize" id="re-start">Start</button>
            </div>
            <div class="text-center mt-3 w-100 text-primary">
                <h1>Moves:-</h1>
                <h2 id="moves"></h2>
            </div>
        </div>
    </div>
    <script>
        var img = document.getElementsByClassName('img');
        var lenght = document.getElementsByClassName('img').length;
        var original_array = [];
        var ar1 = [];
        var moves;
        var gameStarted = false;
        var result;
        var count = 0;
        var img_index1;
        var img_index2;
        var img1_src;
        var img2_src;
        for (let i = 0; i < lenght; i++) {
            original_array.push(img[i].src);
        }
        console.log(original_array);
        function start() {
            // var img=document.getElementsByClassName('img');
            var n = 0;
            var s = ' ';
            gameStarted = true;
            moves=0;
            result = true;
            document.getElementById('re-start').innerHTML='restart game';
            document.getElementById('moves').innerHTML=moves;
            var obj = {
                1: './splite-img/1.jpg',
                2: './splite-img/2.jpg',
                3: './splite-img/3.jpg',
                4: './splite-img/4.jpg',
                5: './splite-img/5.jpg',
                6: './splite-img/6.jpg',
                7: './splite-img/7.jpg',
                8: './splite-img/8.jpg',
                9: './splite-img/9.jpg'
            }
            for (let key in obj) {
                var v = obj[key]
                console.log(v);
                while (n <= 9) {
                    var r = parseInt(Math.random() * 9)
                    if (!(s.includes(r))) {
                        // alert(r)
                        s = s + r;
                        n++;
                        console.log(r);
                        img[r].src = v;
                        break;
                    }
                }
            }
        }
        // #######################################
        
        function swipe(index) {
            if (gameStarted) {
                var imgs = document.getElementsByClassName('img');
                count++;
                if (result) {
                    if (count == 1) {
                        img_index1 = index.getAttribute("data-bid");
                        // alert("The index is  " + img_index1);
                        img1_src = imgs[img_index1].src;
                        imgs[img_index1].style.opacity = 0.5;
                        // alert(img1_src)
                    }
                    else {
                        // alert(img_index1)
                        img_index2 = index.getAttribute("data-bid");
                        // alert(img_index1)
                        // alert("The index of img is " + img_index2);
                        img2_src = imgs[img_index2].src;
                        // alert(img2_src)
                        var c = img1_src;
                        img1_src = img2_src;
                        imgs[img_index1].src = img1_src;
                        img2_src = c;
                        imgs[img_index2].src = img2_src;
                        imgs[img_index1].style.opacity = 1;
                        moves++;
                        document.getElementById('moves').innerHTML=moves;
                        count = 0;
                        check_correct();
                    }
                }
            }
        }
        function check_correct() {
            for (let i = 0; i < lenght; i++) {
                ar1.push(img[i].src);
            }
            // console.log(original_array);
            console.log(JSON.stringify(ar1) == JSON.stringify(original_array));
            // console.log(ar1);
            if (JSON.stringify(ar1) == JSON.stringify(original_array)) {
                alert('you win');
                result = false;
                gameStarted=false;
            }
            else {
                // alert('wrong')
                ar1 = [];
            }
        }
        // #######################################

    </script>
</body>
</html>